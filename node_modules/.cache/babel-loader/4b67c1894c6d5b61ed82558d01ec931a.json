{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asad5\\\\OneDrive\\\\Desktop\\\\simple-react-starter\\\\src\\\\LabelingUI.js\";\nimport React from 'react';\nimport { StyleSheet, Text, View } from 'react';\nimport { Container, CardMedia } from '@material-ui/core';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nexport class LabelingUI extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onImageClick = () => {\n      let row = -1;\n      let col = -1; // Calculate what row to update\n\n      if (this.state.y > 384) row = 3;else if (this.state.y > 256) row = 2;else if (this.state.y > 128) row = 1;else row = 0; // Calculate what column to update\n\n      if (this.state.x > 384) col = 3;else if (this.state.x > 256) col = 2;else if (this.state.x > 128) col = 1;else col = 0; //console.log(\"Coords \", this.state.x, \" and \", this.state.y, \", updating row \", row + 1, \" and column \", col + 1);\n      // Update state\n\n      let arr = { ...this.state.Mesangial\n      };\n      arr[row][col] = 1 - arr[row][col];\n      this.setState({\n        Mesangial: arr\n      });\n      console.log(this.state.Mesangial);\n    };\n\n    this.state = {\n      x: 0,\n      y: 0,\n      selectedCondition: \"Mesangial\",\n      Mesangial: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n      Subendothelial: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n      Subepithelial: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n      Tubuloreticular: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]\n    };\n  }\n\n  componentDidMount() {\n    this.updateCanvas();\n  }\n\n  updateCanvas() {\n    const ctx = this.refs.canvas.getContext('2d');\n    var imageObj1 = new Image();\n    imageObj1.src = this.props.data;\n\n    imageObj1.onload = function () {\n      ctx.drawImage(imageObj1, 0, 0);\n    };\n  }\n\n  _onMouseMove(e) {\n    this.setState({\n      x: e.nativeEvent.offsetX,\n      y: e.nativeEvent.offsetY\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"LabelingUIContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        borderWidth: 1,\n        borderStyle: \"solid\",\n        borderColor: \"blue\",\n        width: 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, \"x coord: \", this.state.x), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, \"y coord: \", this.state.y)), /*#__PURE__*/React.createElement(\"canvas\", {\n      src: this.props.data,\n      ref: \"canvas\",\n      height: \"512\",\n      width: \"512\",\n      onClick: this.onImageClick,\n      onMouseMove: this._onMouseMove.bind(this),\n      style: {\n        background: this.props.data\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/asad5/OneDrive/Desktop/simple-react-starter/src/LabelingUI.js"],"names":["React","StyleSheet","Text","View","Container","CardMedia","FiberManualRecordIcon","LabelingUI","Component","constructor","props","onImageClick","row","col","state","y","x","arr","Mesangial","setState","console","log","selectedCondition","Subendothelial","Subepithelial","Tubuloreticular","componentDidMount","updateCanvas","ctx","refs","canvas","getContext","imageObj1","Image","src","data","onload","drawImage","_onMouseMove","e","nativeEvent","offsetX","offsetY","render","borderWidth","borderStyle","borderColor","width","bind","background"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Text, View } from 'react';\nimport { Container, CardMedia } from '@material-ui/core';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\n\nexport class LabelingUI extends React.Component\n{\n  constructor(props) {\n    super(props);\n    this.state = {\n      x: 0,\n      y: 0,\n      selectedCondition: \"Mesangial\",\n      Mesangial: [\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n      ],\n      Subendothelial: [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]],\n      Subepithelial: [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]],\n      Tubuloreticular: [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]],\n    };\n  }\n\n  componentDidMount() {\n    this.updateCanvas();\n  }\n\n  updateCanvas() {\n    const ctx = this.refs.canvas.getContext('2d');\n\n    var imageObj1 = new Image();\n    imageObj1.src = this.props.data;\n    imageObj1.onload = function() {\n      ctx.drawImage(imageObj1,0,0);\n    }\n  }\n\n  onImageClick = () => {\n    let row = -1;\n    let col = -1;\n        \n    // Calculate what row to update\n    if (this.state.y > 384)\n      row = 3\n    else if (this.state.y > 256)\n      row = 2\n    else if (this.state.y > 128)\n      row = 1\n    else\n      row = 0\n\n    // Calculate what column to update\n    if (this.state.x > 384)\n      col = 3\n    else if (this.state.x > 256)\n      col = 2\n    else if (this.state.x > 128)\n      col = 1\n    else\n      col = 0\n\n    //console.log(\"Coords \", this.state.x, \" and \", this.state.y, \", updating row \", row + 1, \" and column \", col + 1);\n    // Update state\n    let arr = {...this.state.Mesangial};\n    arr[row][col] = 1 - arr[row][col];\n    this.setState({ Mesangial: arr });\n    console.log(this.state.Mesangial);\n  }\n\n  _onMouseMove(e) {\n    this.setState({ x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY });\n  }\n\n  render() {\n    return (\n      <div className={\"LabelingUIContainer\"} >\n        <div style={{ borderWidth: 1, borderStyle: \"solid\", borderColor: \"blue\", width: 200 }} >\n          <p>x coord: {this.state.x}</p>\n          <p>y coord: {this.state.y}</p>\n        </div>\n        <canvas \n          src={this.props.data} \n          ref=\"canvas\"\n          height=\"512\" \n          width=\"512\" \n          onClick={this.onImageClick}\n          onMouseMove={this._onMouseMove.bind(this)} \n          style={{ background: this.props.data }}\n        >\n          {/* <FiberManualRecordIcon></FiberManualRecordIcon> */}\n        </canvas>\n        \n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}